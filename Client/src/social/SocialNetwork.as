package social{	import data.Config;		import flash.events.Event;	import flash.net.URLLoader;	import flash.net.URLRequest;	import flash.net.URLRequestMethod;	import flash.net.URLVariables;	public class SocialNetwork	{		public static var SN_FACEBOOK:String = "FB"; 		private  static var uid:String = "";		private  static var msg:String = "";		public function SocialNetwork():void		{					}		public static function getCurrentId():String		{		 	return Config.user as String;		}				public static function getCurrentUserName():String		{			return Config.username as String;		}				public static function getSocialNetwork(id:String):String		{			var sn:String = SN_FACEBOOK;			if(id == null)				return sn;			sn=id.slice(0,id.indexOf(':'));			return sn;		}				public static function getSocialNetworkUserId(id:String):String		{			var uid:String="";			if(id == null) {				return uid;			}			uid=id.slice(id.indexOf(':')+1);			return uid;		}								public static function getPictureURL(id:String):String		{						var uid:String = getSocialNetworkUserId(id);			var sn:String = getSocialNetwork(id);			if(sn == SN_FACEBOOK) {				return  "http://graph.facebook.com/"+uid+"/picture";			}			return "";		}				public static function getInformationURL(id:String):String		{			var uid:String = getSocialNetworkUserId(id);			var sn:String = getSocialNetwork(id);			if(sn == SN_FACEBOOK) {				return  "http://graph.facebook.com/"+uid;			}			return "";		}				private static function getStatusURLRequest(id:String, msg:String, description:String, icon:String, link:String, name:String):URLRequest		{			var urlR:URLRequest=null;			var uid:String = getSocialNetworkUserId(id);			var sn:String = getSocialNetwork(id);			if(sn == SN_FACEBOOK) {				if(msg == null)					msg="";								var url:String="https://graph.facebook.com/"+uid+"/feed";				urlR=new URLRequest(url);				var vars:URLVariables = new URLVariables();				vars.message=msg;								if(icon != null && icon != "")					vars.picture=icon;								if(description != null && description != "")					vars.description=description;								if(name==null || name == "")				{					name="http://apps.facebook.com/";				}				if(link != null && link != "") {					vars.link=link;					vars.name=name;				}									vars.access_token=Config.user_token;				urlR.method = URLRequestMethod.POST;				urlR.data = vars;			}			return urlR;		}						public static function postStatus(msg:String, icon:String, link:String):void		{			var urlR:URLRequest = getStatusURLRequest(Config.user, msg, null, icon, link, null);			var urlLoader:URLLoader=new URLLoader();			urlLoader.addEventListener(Event.COMPLETE, onStatusPosted);			urlLoader.load(urlR);		}				private static function onStatusPosted(e:Event):void		{			trace("Feed Posted: "+e.target.data);		}				public static function postRequest(uid:String, msg:String):void{			var url1:String=String("https://graph.facebook.com/"+uid+"/feed");			var urlR:URLRequest=new URLRequest(url1);						var vars:URLVariables = new URLVariables();			vars.message=msg;						vars.access_token=Config.user_token;			urlR.method = URLRequestMethod.POST;			urlR.data = vars;						var urll:URLLoader=new URLLoader();			urll.load(urlR);		}			}}